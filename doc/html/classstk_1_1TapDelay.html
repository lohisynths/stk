<HTML>
<HEAD>
<TITLE>The Synthesis ToolKit in C++ (STK)</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<CENTER>
<img src="princeton.gif"> &nbsp; <img src="ccrma.gif"> &nbsp; <img src="mcgill.gif"><P>
<a class="qindex" href="index.html">Home</a> &nbsp; <a class="qindex" href="information.html">Information</a> &nbsp; <a class="qindex" href="classes.html">Classes</a> &nbsp; <a class="qindex" href="download.html">Download</a> &nbsp; <a class="qindex" href="usage.html">Usage</a> &nbsp; <a class="qindex" href="maillist.html">Mail List</a> &nbsp; <a class="qindex" href="system.html">Requirements</a> &nbsp; <a class="qindex" href="links.html">Links</a> &nbsp; <a class="qindex" href="faq.html">FAQ</a> &nbsp; <a class="qindex" href="tutorial.html">Tutorial</a></CENTER>
<HR>
<!-- Generated by Doxygen 1.5.8 -->
  <div class="navpath"><a class="el" href="namespacestk.html">stk</a>::<a class="el" href="classstk_1_1TapDelay.html">TapDelay</a>
  </div>
<div class="contents">
<h1>stk::TapDelay Class Reference</h1><!-- doxytag: class="stk::TapDelay" --><!-- doxytag: inherits="stk::Filter" -->STK non-interpolating tapped delay line class.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="TapDelay_8h-source.html">TapDelay.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for stk::TapDelay:</div>
<div class="dynsection">

<p><center><img src="classstk_1_1TapDelay.png" usemap="#stk::TapDelay_map" border="0" alt=""></center>
<map name="stk::TapDelay_map">
<area href="classstk_1_1Filter.html" alt="stk::Filter" shape="rect" coords="0,56,87,80">
<area href="classstk_1_1Stk.html" alt="stk::Stk" shape="rect" coords="0,0,87,24">
</map>
</div>

<p>
<a href="classstk_1_1TapDelay-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1TapDelay.html#24913411dff23e05995979e42cc51ecc">TapDelay</a> (std::vector&lt; unsigned long &gt; taps=std::vector&lt; unsigned long &gt;(1, 0), unsigned long maxDelay=4095)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The default constructor creates a delay-line with maximum length of 4095 samples and a single tap at delay = 0.  <a href="#24913411dff23e05995979e42cc51ecc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6980be10c3d3cb9633af1733b40e49cc"></a><!-- doxytag: member="stk::TapDelay::~TapDelay" ref="6980be10c3d3cb9633af1733b40e49cc" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1TapDelay.html#6980be10c3d3cb9633af1733b40e49cc">~TapDelay</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Class destructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1TapDelay.html#104b7bd81435a38191e1e43a24cb471d">setMaximumDelay</a> (unsigned long delay)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the maximum delay-line length.  <a href="#104b7bd81435a38191e1e43a24cb471d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1TapDelay.html#a2bbab19ae277dc3689471d4250f00ad">setTapDelays</a> (std::vector&lt; unsigned long &gt; taps)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the delay-line tap lengths.  <a href="#a2bbab19ae277dc3689471d4250f00ad"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ad3736becdec6059f2986f873d69b971"></a><!-- doxytag: member="stk::TapDelay::getTapDelays" ref="ad3736becdec6059f2986f873d69b971" args="(void) const " -->
std::vector&lt; unsigned long &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1TapDelay.html#ad3736becdec6059f2986f873d69b971">getTapDelays</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the current delay-line length. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">StkFloat&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1TapDelay.html#517399ddf52455ef083481cbb77c0b5c">lastOut</a> (unsigned int tap=0) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the specified tap value of the last computed frame.  <a href="#517399ddf52455ef083481cbb77c0b5c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1TapDelay.html#add431e206dd1e4133e2ff0d49aa639b">tick</a> (StkFloat input, <a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp;outputs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Input one sample to the delayline and return outputs at all tap positions.  <a href="#add431e206dd1e4133e2ff0d49aa639b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1TapDelay.html#9255a00f0d7588ba5b51a12ba5db08c0">tick</a> (<a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp;frames, unsigned int channel=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Take a channel of the <a class="el" href="classstk_1_1StkFrames.html" title="An STK class to handle vectorized audio data.">StkFrames</a> object as inputs to the filter and write outputs back to the same object.  <a href="#9255a00f0d7588ba5b51a12ba5db08c0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1TapDelay.html#d8250d2802326bd3778c00642266d201">tick</a> (<a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp;iFrames, <a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp;oFrames, unsigned int iChannel=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Take a channel of the <code>iFrames</code> object as inputs to the filter and write outputs to the <code>oFrames</code> object.  <a href="#d8250d2802326bd3778c00642266d201"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
STK non-interpolating tapped delay line class. 
<p>
This class implements a non-interpolating digital delay-line with an arbitrary number of output "taps". If the maximum length and tap delays are not specified during instantiation, a fixed maximum length of 4095 and a single tap delay of zero is set.<p>
A non-interpolating delay line is typically used in fixed delay-length applications, such as for reverberation.<p>
by Perry R. Cook and Gary P. Scavone, 1995 - 2009. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="24913411dff23e05995979e42cc51ecc"></a><!-- doxytag: member="stk::TapDelay::TapDelay" ref="24913411dff23e05995979e42cc51ecc" args="(std::vector&lt; unsigned long &gt; taps=std::vector&lt; unsigned long &gt;(1, 0), unsigned long maxDelay=4095)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stk::TapDelay::TapDelay           </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; unsigned long &gt;&nbsp;</td>
          <td class="paramname"> <em>taps</em> = <code>std::vector&lt;&nbsp;unsigned&nbsp;long&nbsp;&gt;(1,&nbsp;0)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>maxDelay</em> = <code>4095</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The default constructor creates a delay-line with maximum length of 4095 samples and a single tap at delay = 0. 
<p>
An <a class="el" href="classstk_1_1StkError.html" title="STK error handling class.">StkError</a> will be thrown if any tap delay parameter is less than zero, the maximum delay parameter is less than one, or any tap delay parameter is greater than the maxDelay value. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="104b7bd81435a38191e1e43a24cb471d"></a><!-- doxytag: member="stk::TapDelay::setMaximumDelay" ref="104b7bd81435a38191e1e43a24cb471d" args="(unsigned long delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stk::TapDelay::setMaximumDelay           </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>delay</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the maximum delay-line length. 
<p>
This method should generally only be used during initial setup of the delay line. If it is used between calls to the <a class="el" href="classstk_1_1TapDelay.html#add431e206dd1e4133e2ff0d49aa639b" title="Input one sample to the delayline and return outputs at all tap positions.">tick()</a> function, without a call to <a class="el" href="classstk_1_1Filter.html#670b9cc23ac798d3239cb819e801363c" title="Clears all internal states of the filter.">clear()</a>, a signal discontinuity will likely occur. If the current maximum length is greater than the new length, no change will be made. 
</div>
</div><p>
<a class="anchor" name="a2bbab19ae277dc3689471d4250f00ad"></a><!-- doxytag: member="stk::TapDelay::setTapDelays" ref="a2bbab19ae277dc3689471d4250f00ad" args="(std::vector&lt; unsigned long &gt; taps)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stk::TapDelay::setTapDelays           </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; unsigned long &gt;&nbsp;</td>
          <td class="paramname"> <em>taps</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the delay-line tap lengths. 
<p>
The valid range for each tap length is from 0 to the maximum delay-line length. 
</div>
</div><p>
<a class="anchor" name="517399ddf52455ef083481cbb77c0b5c"></a><!-- doxytag: member="stk::TapDelay::lastOut" ref="517399ddf52455ef083481cbb77c0b5c" args="(unsigned int tap=0) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StkFloat stk::TapDelay::lastOut           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>tap</em> = <code>0</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the specified tap value of the last computed frame. 
<p>
Use the <a class="el" href="classstk_1_1Filter.html#b2d944f649693511dced1df249f0abe6" title="Return an StkFrames reference to the last output sample frame.">lastFrame()</a> function to get all tap values from the last computed frame. The <code>tap</code> argument must be less than the number of delayline taps (the first tap is specified by 0). However, range checking is only performed if _STK_DEBUG_ is defined during compilation, in which case an out-of-range value will trigger an <a class="el" href="classstk_1_1StkError.html" title="STK error handling class.">StkError</a> exception. 
</div>
</div><p>
<a class="anchor" name="add431e206dd1e4133e2ff0d49aa639b"></a><!-- doxytag: member="stk::TapDelay::tick" ref="add431e206dd1e4133e2ff0d49aa639b" args="(StkFloat input, StkFrames &amp;outputs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp; stk::TapDelay::tick           </td>
          <td>(</td>
          <td class="paramtype">StkFloat&nbsp;</td>
          <td class="paramname"> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>outputs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Input one sample to the delayline and return outputs at all tap positions. 
<p>
The <a class="el" href="classstk_1_1StkFrames.html" title="An STK class to handle vectorized audio data.">StkFrames</a> argument reference is returned. The output values are ordered according to the tap positions set using the <a class="el" href="classstk_1_1TapDelay.html#a2bbab19ae277dc3689471d4250f00ad" title="Set the delay-line tap lengths.">setTapDelays()</a> function (no sorting is performed). The <a class="el" href="classstk_1_1StkFrames.html" title="An STK class to handle vectorized audio data.">StkFrames</a> argument must contain at least as many channels as the number of taps. However, range checking is only performed if _STK_DEBUG_ is defined during compilation, in which case an out-of-range value will trigger an <a class="el" href="classstk_1_1StkError.html" title="STK error handling class.">StkError</a> exception. 
</div>
</div><p>
<a class="anchor" name="9255a00f0d7588ba5b51a12ba5db08c0"></a><!-- doxytag: member="stk::TapDelay::tick" ref="9255a00f0d7588ba5b51a12ba5db08c0" args="(StkFrames &amp;frames, unsigned int channel=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp; stk::TapDelay::tick           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>channel</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Take a channel of the <a class="el" href="classstk_1_1StkFrames.html" title="An STK class to handle vectorized audio data.">StkFrames</a> object as inputs to the filter and write outputs back to the same object. 
<p>
The <a class="el" href="classstk_1_1StkFrames.html" title="An STK class to handle vectorized audio data.">StkFrames</a> argument reference is returned. The output values are ordered according to the tap positions set using the <a class="el" href="classstk_1_1TapDelay.html#a2bbab19ae277dc3689471d4250f00ad" title="Set the delay-line tap lengths.">setTapDelays()</a> function (no sorting is performed). The <a class="el" href="classstk_1_1StkFrames.html" title="An STK class to handle vectorized audio data.">StkFrames</a> argument must contain at least as many channels as the number of taps. However, range checking is only performed if _STK_DEBUG_ is defined during compilation, in which case an out-of-range value will trigger an <a class="el" href="classstk_1_1StkError.html" title="STK error handling class.">StkError</a> exception. 
<p>Implements <a class="el" href="classstk_1_1Filter.html#3260a238824c4a748ac057b84b7d3f21">stk::Filter</a>.</p>

</div>
</div><p>
<a class="anchor" name="d8250d2802326bd3778c00642266d201"></a><!-- doxytag: member="stk::TapDelay::tick" ref="d8250d2802326bd3778c00642266d201" args="(StkFrames &amp;iFrames, StkFrames &amp;oFrames, unsigned int iChannel=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp; stk::TapDelay::tick           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>iFrames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classstk_1_1StkFrames.html">StkFrames</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>oFrames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>iChannel</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Take a channel of the <code>iFrames</code> object as inputs to the filter and write outputs to the <code>oFrames</code> object. 
<p>
The <code>iFrames</code> object reference is returned. The output values are ordered according to the tap positions set using the <a class="el" href="classstk_1_1TapDelay.html#a2bbab19ae277dc3689471d4250f00ad" title="Set the delay-line tap lengths.">setTapDelays()</a> function (no sorting is performed). The <code>iChannel</code> argument must be less than the number of channels in the <code>iFrames</code> argument (the first channel is specified by 0). The <code>oFrames</code> argument must contain at least as many channels as the number of taps. However, range checking is only performed if _STK_DEBUG_ is defined during compilation, in which case an out-of-range value will trigger an <a class="el" href="classstk_1_1StkError.html" title="STK error handling class.">StkError</a> exception. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="TapDelay_8h-source.html">TapDelay.h</a></ul>
</div>
<HR>

<table>
  <tr><td><A HREF="http://ccrma.stanford.edu/software/stk/"><I>The Synthesis ToolKit in C++ (STK)</I></A></td></tr>
  <tr><td>&copy;1995-2009 Perry R. Cook and Gary P. Scavone. All Rights Reserved.</td></tr>
</table>

</BODY>
</HTML>
