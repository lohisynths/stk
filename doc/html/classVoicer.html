<HTML>
<HEAD>
<TITLE>The Synthesis ToolKit in C++ (STK)</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<CENTER>
<img src="princeton.gif"> &nbsp; <img src="ccrma.gif"><P>
<a class="qindex" href="index.html">Home</a> &nbsp; <a class="qindex" href="information.html">Information</a> &nbsp; <a class="qindex" href="classes.html">Classes</a> &nbsp; <a class="qindex" href="download.html">Download</a> &nbsp; <a class="qindex" href="usage.html">Usage</a> &nbsp; <a class="qindex" href="maillist.html">Mail List</a> &nbsp; <a class="qindex" href="system.html">Requirements</a> &nbsp; <a class="qindex" href="links.html">Links</a> &nbsp; <a class="qindex" href="tutorial.html">Tutorial</a></CENTER>
<HR>
<!-- Generated by Doxygen 1.2.8.1 -->
<h1>Voicer  Class Reference</h1>STK voice manager class. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="Voicer_8h-source.html">Voicer.h</a>&gt;</code>
<p>
<p>Inheritance diagram for Voicer::
<p><center><img src="classVoicer.gif" usemap="#Voicer_map" border="0"></center>
<map name="Voicer_map">
<area href="classStk.html" alt="Stk" shape="rect" coords="0,0,50,24">
</map>
<a href="classVoicer-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top><a name="a0" doxytag="Voicer::Voicer"></a>
&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a0">Voicer</a> (int maxInstruments, MY_FLOAT decayTime=0.2)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Class constructor taking the maximum number of instruments to control and an optional note decay time (in seconds).</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a1" doxytag="Voicer::~Voicer"></a>
&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a1">~Voicer</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Class destructor.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a2">addInstrument</a> (<a class="el" href="classInstrmnt.html">Instrmnt</a> *instrument, int channel=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Add an instrument with an optional channel number to the voice manager.</em> <a href="#a2">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a3">removeInstrument</a> (<a class="el" href="classInstrmnt.html">Instrmnt</a> *instrument)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Remove the given instrument pointer from the voice manager's control.</em> <a href="#a3">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>long&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a4">noteOn</a> (MY_FLOAT noteNumber, MY_FLOAT amplitude, int channel=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initiate a noteOn event with the given note number and amplitude and return a unique note tag.</em> <a href="#a4">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a5">noteOff</a> (MY_FLOAT noteNumber, MY_FLOAT amplitude, int channel=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a noteOff to all voices having the given noteNumber and optional channel (default channel = 0).</em> <a href="#a5">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a6">noteOff</a> (long tag, MY_FLOAT amplitude)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a noteOff to the voice with the given note tag.</em> <a href="#a6">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a7">setFrequency</a> (MY_FLOAT noteNumber, int channel=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a frequency update message to all voices assigned to the optional channel argument (default channel = 0).</em> <a href="#a7">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a8">setFrequency</a> (long tag, MY_FLOAT noteNumber)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a frequency update message to the voice with the given note tag.</em> <a href="#a8">More...</a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a9" doxytag="Voicer::pitchBend"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a9">pitchBend</a> (MY_FLOAT value, int channel=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a pitchBend message to all voices assigned to the optional channel argument (default channel = 0).</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a10" doxytag="Voicer::pitchBend"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a10">pitchBend</a> (long tag, MY_FLOAT value)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a pitchBend message to the voice with the given note tag.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a11" doxytag="Voicer::controlChange"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a11">controlChange</a> (int number, MY_FLOAT value, int channel=0)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a controlChange to all instruments assigned to the optional channel argument (default channel = 0).</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a12" doxytag="Voicer::controlChange"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a12">controlChange</a> (long tag, int number, MY_FLOAT value)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a controlChange to the voice with the given note tag.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a13" doxytag="Voicer::silence"></a>
void&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a13">silence</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Send a noteOff message to all existing voices.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a14" doxytag="Voicer::tick"></a>
MY_FLOAT&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a14">tick</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Mix the output for all sounding voices.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a15" doxytag="Voicer::tick"></a>
MY_FLOAT*&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a15">tick</a> (MY_FLOAT *vector, unsigned int vectorSize)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Computer <em>vectorSize</em> output mixes and return them in <em>vector</em>.</em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a16" doxytag="Voicer::lastOut"></a>
MY_FLOAT&nbsp;</td><td valign=bottom><a class="el" href="classVoicer.html#a16">lastOut</a> () const</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return the last output value.</em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
STK voice manager class.
<p>
This class can be used to manage a group of STK instrument classes. Individual voices can be controlled via unique note tags. Instrument groups can be controlled by channel number.
<p>
A previously constructed STK instrument class is linked with a voice manager using the <a class="el" href="classVoicer.html#a2">addInstrument</a>() function. An optional channel number argument can be specified to the <a class="el" href="classVoicer.html#a2">addInstrument</a>() function as well (default channel = 0). The voice manager does not delete any instrument instances ... it is the responsibility of the user to allocate and deallocate all instruments.
<p>
The <a class="el" href="classVoicer.html#a14">tick</a>() function returns the mix of all sounding voices. Each noteOn returns a unique tag (credits to the NeXT MusicKit), so you can send control changes to specific voices within an ensemble. Alternately, control changes can be sent to all voices on a given channel.
<p>
by Perry R. Cook and Gary P. Scavone, 1995 - 2002. 
<p>
<hr><h2>Member Function Documentation</h2>
<a name="a2" doxytag="Voicer::addInstrument"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void Voicer::addInstrument (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="classInstrmnt.html">Instrmnt</a> * <em>instrument</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
int <em>channel</em> = 0&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add an instrument with an optional channel number to the voice manager.
<p>
A set of instruments can be grouped by channel number and controlled via the functions which take a channel number argument.     </td>
  </tr>
</table>
<a name="a3" doxytag="Voicer::removeInstrument"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void Voicer::removeInstrument (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="classInstrmnt.html">Instrmnt</a> * <em>instrument</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Remove the given instrument pointer from the voice manager's control.
<p>
It is important that any instruments which are to be deleted by the user while the voice manager is running be first removed from the manager's control via this function!!     </td>
  </tr>
</table>
<a name="a4" doxytag="Voicer::noteOn"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
long Voicer::noteOn (
          </b></td>
          <td valign="bottom"><b>
MY_FLOAT <em>noteNumber</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
MY_FLOAT <em>amplitude</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
int <em>channel</em> = 0&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initiate a noteOn event with the given note number and amplitude and return a unique note tag.
<p>
Send the noteOn message to the first available unused voice. If all voices are sounding, the oldest voice is interrupted and sent the noteOn message. If the optional channel argument is non-zero, only voices on that channel are used. If no voices are found for a specified non-zero channel value, the function returns -1. The amplitude value should be in the range 0.0 - 128.0.     </td>
  </tr>
</table>
<a name="a5" doxytag="Voicer::noteOff"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void Voicer::noteOff (
          </b></td>
          <td valign="bottom"><b>
MY_FLOAT <em>noteNumber</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
MY_FLOAT <em>amplitude</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
int <em>channel</em> = 0&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a noteOff to all voices having the given noteNumber and optional channel (default channel = 0).
<p>
The amplitude value should be in the range 0.0 - 128.0.     </td>
  </tr>
</table>
<a name="a6" doxytag="Voicer::noteOff"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void Voicer::noteOff (
          </b></td>
          <td valign="bottom"><b>
long <em>tag</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
MY_FLOAT <em>amplitude</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a noteOff to the voice with the given note tag.
<p>
The amplitude value should be in the range 0.0 - 128.0.     </td>
  </tr>
</table>
<a name="a7" doxytag="Voicer::setFrequency"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void Voicer::setFrequency (
          </b></td>
          <td valign="bottom"><b>
MY_FLOAT <em>noteNumber</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
int <em>channel</em> = 0&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a frequency update message to all voices assigned to the optional channel argument (default channel = 0).
<p>
The <em>noteNumber</em> argument corresponds to a MIDI note number, though it is a floating-point value and can range beyond the normal 0-127 range.     </td>
  </tr>
</table>
<a name="a8" doxytag="Voicer::setFrequency"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void Voicer::setFrequency (
          </b></td>
          <td valign="bottom"><b>
long <em>tag</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
MY_FLOAT <em>noteNumber</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Send a frequency update message to the voice with the given note tag.
<p>
The <em>noteNumber</em> argument corresponds to a MIDI note number, though it is a floating-point value and can range beyond the normal 0-127 range.     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Voicer_8h-source.html">Voicer.h</a></ul>
<HR>

<table>
  <tr><td><A HREF="http://www-ccrma.stanford.edu/software/stk/"><I>The Synthesis ToolKit in C++ (STK)</I></A></td></tr>
  <tr><td>&copy;1995-2002 Perry R. Cook and Gary P. Scavone. All Rights Reserved.</td></tr>
</table>

</BODY>
</HTML>
