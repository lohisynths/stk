<HTML>
<HEAD>
<TITLE>The Synthesis ToolKit in C++ (STK)</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<CENTER>
<img src="princeton.gif"> &nbsp; <img src="ccrma.gif"> &nbsp; <img src="mcgill.gif"><P>
<a class="qindex" href="index.html">Home</a> &nbsp; <a class="qindex" href="information.html">Information</a> &nbsp; <a class="qindex" href="classes.html">Classes</a> &nbsp; <a class="qindex" href="download.html">Download</a> &nbsp; <a class="qindex" href="usage.html">Usage</a> &nbsp; <a class="qindex" href="maillist.html">Mail List</a> &nbsp; <a class="qindex" href="system.html">Requirements</a> &nbsp; <a class="qindex" href="links.html">Links</a> &nbsp; <a class="qindex" href="faq.html">FAQ</a> &nbsp; <a class="qindex" href="tutorial.html">Tutorial</a></CENTER>
<HR>
<!-- Generated by Doxygen 1.5.8 -->
  <div class="navpath"><a class="el" href="namespacestk.html">stk</a>::<a class="el" href="classstk_1_1UdpSocket.html">UdpSocket</a>
  </div>
<div class="contents">
<h1>stk::UdpSocket Class Reference</h1><!-- doxytag: class="stk::UdpSocket" --><!-- doxytag: inherits="stk::Socket" -->STK UDP socket server/client class.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="UdpSocket_8h-source.html">UdpSocket.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for stk::UdpSocket:</div>
<div class="dynsection">

<p><center><img src="classstk_1_1UdpSocket.png" usemap="#stk::UdpSocket_map" border="0" alt=""></center>
<map name="stk::UdpSocket_map">
<area href="classstk_1_1Socket.html" alt="stk::Socket" shape="rect" coords="0,56,93,80">
<area href="classstk_1_1Stk.html" alt="stk::Stk" shape="rect" coords="0,0,93,24">
</map>
</div>

<p>
<a href="classstk_1_1UdpSocket-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#aad5171c74b4ab7c2155cd63ef30a271">UdpSocket</a> (int port=2006)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor creates a local UDP socket on port 2006 (or the specified port number).  <a href="#aad5171c74b4ab7c2155cd63ef30a271"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9b54f5d058c01c04dc266f117da7ee2a"></a><!-- doxytag: member="stk::UdpSocket::~UdpSocket" ref="9b54f5d058c01c04dc266f117da7ee2a" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#9b54f5d058c01c04dc266f117da7ee2a">~UdpSocket</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The class destructor closes the socket instance. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#4267442661257aae2a0f6b48d367fea1">setDestination</a> (int port=2006, std::string hostname=&quot;localhost&quot;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the address for subsequent outgoing data sent via the <em><a class="el" href="classstk_1_1UdpSocket.html#a9d3d734b4e9c811724eff626e849cb8" title="Send a buffer to the address specified with the setDestination() function. Returns...">writeBuffer()</a></em> function.  <a href="#4267442661257aae2a0f6b48d367fea1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#a9d3d734b4e9c811724eff626e849cb8">writeBuffer</a> (const void *buffer, long bufferSize, int flags=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a buffer to the address specified with the <em><a class="el" href="classstk_1_1UdpSocket.html#4267442661257aae2a0f6b48d367fea1" title="Set the address for subsequent outgoing data sent via the writeBuffer() function...">setDestination()</a></em> function. Returns the number of bytes written or -1 if an error occurs.  <a href="#a9d3d734b4e9c811724eff626e849cb8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1f66fdcc40b07f9d56e472be9684adcb"></a><!-- doxytag: member="stk::UdpSocket::readBuffer" ref="1f66fdcc40b07f9d56e472be9684adcb" args="(void *buffer, long bufferSize, int flags=0)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#1f66fdcc40b07f9d56e472be9684adcb">readBuffer</a> (void *buffer, long bufferSize, int flags=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read an input buffer, up to length <em>bufferSize</em>. Returns the number of bytes read or -1 if an error occurs. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="85f74161d2d3697593f08bda9dcb8963"></a><!-- doxytag: member="stk::UdpSocket::writeBufferTo" ref="85f74161d2d3697593f08bda9dcb8963" args="(const void *buffer, long bufferSize, int port, std::string hostname=&quot;localhost&quot;, int flags=0)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#85f74161d2d3697593f08bda9dcb8963">writeBufferTo</a> (const void *buffer, long bufferSize, int port, std::string hostname=&quot;localhost&quot;, int flags=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a buffer to the specified socket. Returns the number of bytes written or -1 if an error occurs. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstk_1_1UdpSocket.html#785594fd882b76d4c280b72a016f026d">setAddress</a> (struct sockaddr_in *address, int port=2006, std::string hostname=&quot;localhost&quot;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A protected function for use in writing a socket address structure.  <a href="#785594fd882b76d4c280b72a016f026d"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
STK UDP socket server/client class. 
<p>
This class provides a uniform cross-platform UDP socket server/client interface. Methods are provided for reading or writing data buffers. The constructor creates a UDP socket and binds it to the specified port. Note that only one socket can be bound to a given port on the same machine.<p>
UDP sockets provide unreliable, connection-less service. Messages can be lost, duplicated, or received out of order. That said, data transmission tends to be faster than with TCP connections and datagrams are not potentially combined by the underlying system.<p>
The user is responsible for checking the values returned by the read/write methods. Values less than or equal to zero indicate the occurence of an error.<p>
by Perry R. Cook and Gary P. Scavone, 1995 - 2009. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="aad5171c74b4ab7c2155cd63ef30a271"></a><!-- doxytag: member="stk::UdpSocket::UdpSocket" ref="aad5171c74b4ab7c2155cd63ef30a271" args="(int port=2006)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stk::UdpSocket::UdpSocket           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em> = <code>2006</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default constructor creates a local UDP socket on port 2006 (or the specified port number). 
<p>
An <a class="el" href="classstk_1_1StkError.html" title="STK error handling class.">StkError</a> will be thrown if a socket error occurs during instantiation. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="4267442661257aae2a0f6b48d367fea1"></a><!-- doxytag: member="stk::UdpSocket::setDestination" ref="4267442661257aae2a0f6b48d367fea1" args="(int port=2006, std::string hostname=&quot;localhost&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stk::UdpSocket::setDestination           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em> = <code>2006</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>hostname</em> = <code>&quot;localhost&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the address for subsequent outgoing data sent via the <em><a class="el" href="classstk_1_1UdpSocket.html#a9d3d734b4e9c811724eff626e849cb8" title="Send a buffer to the address specified with the setDestination() function. Returns...">writeBuffer()</a></em> function. 
<p>
An <a class="el" href="classstk_1_1StkError.html" title="STK error handling class.">StkError</a> will be thrown if the host is unknown. 
</div>
</div><p>
<a class="anchor" name="a9d3d734b4e9c811724eff626e849cb8"></a><!-- doxytag: member="stk::UdpSocket::writeBuffer" ref="a9d3d734b4e9c811724eff626e849cb8" args="(const void *buffer, long bufferSize, int flags=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stk::UdpSocket::writeBuffer           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>bufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send a buffer to the address specified with the <em><a class="el" href="classstk_1_1UdpSocket.html#4267442661257aae2a0f6b48d367fea1" title="Set the address for subsequent outgoing data sent via the writeBuffer() function...">setDestination()</a></em> function. Returns the number of bytes written or -1 if an error occurs. 
<p>
This function will fail if the default address (set with <em><a class="el" href="classstk_1_1UdpSocket.html#4267442661257aae2a0f6b48d367fea1" title="Set the address for subsequent outgoing data sent via the writeBuffer() function...">setDestination()</a></em>) is invalid or has not been specified. 
<p>Implements <a class="el" href="classstk_1_1Socket.html#7938202181552306d0ea74c6c04abf4a">stk::Socket</a>.</p>

</div>
</div><p>
<a class="anchor" name="785594fd882b76d4c280b72a016f026d"></a><!-- doxytag: member="stk::UdpSocket::setAddress" ref="785594fd882b76d4c280b72a016f026d" args="(struct sockaddr_in *address, int port=2006, std::string hostname=&quot;localhost&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stk::UdpSocket::setAddress           </td>
          <td>(</td>
          <td class="paramtype">struct sockaddr_in *&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em> = <code>2006</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>hostname</em> = <code>&quot;localhost&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A protected function for use in writing a socket address structure. 
<p>
An <a class="el" href="classstk_1_1StkError.html" title="STK error handling class.">StkError</a> will be thrown if the host is unknown. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="UdpSocket_8h-source.html">UdpSocket.h</a></ul>
</div>
<HR>

<table>
  <tr><td><A HREF="http://ccrma.stanford.edu/software/stk/"><I>The Synthesis ToolKit in C++ (STK)</I></A></td></tr>
  <tr><td>&copy;1995-2009 Perry R. Cook and Gary P. Scavone. All Rights Reserved.</td></tr>
</table>

</BODY>
</HTML>
